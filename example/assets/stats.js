"use strict";(()=>{const n=["click","scroll","keydown","mousemove","touchstart"],o={once:!0,passive:!0};let s=!1;const c=()=>{s||(t(),s=!0)},p=()=>n.forEach(e=>document.addEventListener(e,c,o)),u=()=>n.forEach(e=>document.removeEventListener(e,t,o)),t=()=>{console.log("send stats");const e=location.pathname.replace(/^\//,"");fetch(`/kirby-stats/page/${e}`,{keepalive:!0}),fetch("/kirby-stats/site",{keepalive:!0}),u()},d=window.performance.getEntriesByType("navigation").some(e=>e.type==="reload");d||p();window.history.pushState=new Proxy(window.history.pushState,{apply(e,a,r){const i=e.apply(a,r);return t(),i}});})();
