(function(){"use strict";const rt=["Firefox","Chrome","Opera","Edge","Safari","InternetExplorer"],it=["Windows","Apple","Linux","Android","iOS"],at={props:{stats:{type:Object,required:!0}},computed:{data(){var e;let n=0;const t={};for(const{paths:s,missing:r}of Object.values(this.stats))if(!r)for(const{counters:i}of Object.values(s))for(const a of rt)(e=t[a])!=null||(t[a]={name:a,visits:0,percent:0}),t[a].visits+=i[a],n+=i[a];return Object.values(t).map(s=>({...s,percent:n?s.visits/n*100:0})).sort((s,r)=>r.percent-s.percent)}}};function x(n,t,e,s,r,i,a,l){var o=typeof n=="function"?n.options:n;t&&(o.render=t,o.staticRenderFns=e,o._compiled=!0),s&&(o.functional=!0),i&&(o._scopeId="data-v-"+i);var u;if(a?(u=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),r&&r.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(a)},o._ssrRegister=u):r&&(u=l?function(){r.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(o.functional){o._injectStyles=u;var f=o.render;o.render=function(m,c){return u.call(c),f(m,c)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,u):[u]}return{exports:n,options:o}}var lt=function(){var t=this,e=t._self._c;return e("k-table",{staticClass:"k-stats-browsers",attrs:{index:!1,columns:{name:{label:"Browser",type:"stats-percent",mobile:!0},visits:{label:"Visits",width:"8em",mobile:!0}},rows:t.data}})},ot=[],ct=x(at,lt,ot,!1,null,null,null,null);const ut=ct.exports,ht=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"})),E={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},ft=8,Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function G(n,t){return typeof n=="number"?n+t:n}function P(n){if(typeof n=="string"){const t=/^(\d+)\s*(.*)$/g.exec(n);return{value:t?+t[1]:0,unit:(t==null?void 0:t[2])||void 0}}return{value:Number(n)}}function dt(n){return String.fromCharCode(97+n%26)}const I=2221e-19;function mt(n){return Math.floor(Math.log(Math.abs(n))/Math.LN10)}function A(n,t,e){return t/e.range*n}function gt(n,t){const e=Math.pow(10,t||ft);return Math.round(n*e)/e}function pt(n){if(n===1)return n;function t(a,l){return a%l===0?l:t(l,a%l)}function e(a){return a*a+1}let s=2,r=2,i;if(n%2===0)return 2;do s=e(s)%n,r=e(e(r))%n,i=t(Math.abs(s-r),n);while(i===1);return i}function vt(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const r={high:t.high,low:t.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};r.valueRange=r.high-r.low,r.oom=mt(r.valueRange),r.step=Math.pow(10,r.oom),r.min=Math.floor(r.low/r.step)*r.step,r.max=Math.ceil(r.high/r.step)*r.step,r.range=r.max-r.min,r.numberOfSteps=Math.round(r.range/r.step);const a=A(n,r.step,r)<e,l=s?pt(r.range):0;if(s&&A(n,1,r)>=e)r.step=1;else if(s&&l<r.step&&A(n,l,r)>=e)r.step=l;else{let h=0;for(;;){if(a&&A(n,r.step,r)<=e)r.step*=2;else if(!a&&A(n,r.step/2,r)>=e){if(r.step/=2,s&&r.step%1!==0){r.step*=2;break}}else break;if(h++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}r.step=Math.max(r.step,I);function o(h,m){return h===(h+=m)&&(h*=1+(m>0?I:-I)),h}let u=r.min,f=r.max;for(;u+r.step<=r.low;)u=o(u,r.step);for(;f-r.step>=r.high;)f=o(f,-r.step);r.min=u,r.max=f,r.range=r.max-r.min;const d=[];for(let h=r.min;h<=r.max;h=o(h,r.step)){const m=gt(h);m!==d[d.length-1]&&d.push(m)}return r.values=d,r}function S(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];for(let r=0;r<e.length;r++){const i=e[r];for(const a in i){const l=i[a];typeof l=="object"&&l!==null&&!(l instanceof Array)?n[a]=S(n[a],l):n[a]=l}}return n}const U=n=>n;function H(n,t){return Array.from({length:n},t?(e,s)=>t(s):()=>{})}function v(n,t){return n!==null&&typeof n=="object"&&Reflect.has(n,t)}function j(n){return n!==null&&isFinite(n)}function bt(n){return!n&&n!==0}function k(n){return j(n)?Number(n):void 0}function wt(n){return Array.isArray(n)?n.every(Array.isArray):!1}function yt(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=0;n[e?"reduceRight":"reduce"]((r,i,a)=>t(i,s++,a),void 0)}function _t(n,t){const e=Array.isArray(n)?n[t]:v(n,"data")?n.data[t]:null;return v(e,"meta")?e.meta:void 0}function Q(n){return n==null||typeof n=="number"&&isNaN(n)}function xt(n){return Array.isArray(n)&&n.every(t=>Array.isArray(t)||v(t,"data"))}function Ct(n){return typeof n=="object"&&n!==null&&(Reflect.has(n,"x")||Reflect.has(n,"y"))}function B(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";return Ct(n)&&v(n,t)?k(n[t]):k(n)}function Ot(n,t,e){t={...t,...e?e==="x"?t.axisX:t.axisY:{}};const s={high:t.high===void 0?-Number.MAX_VALUE:+t.high,low:t.low===void 0?Number.MAX_VALUE:+t.low},r=t.high===void 0,i=t.low===void 0;function a(l){if(!Q(l))if(Array.isArray(l))for(let o=0;o<l.length;o++)a(l[o]);else{const o=Number(e&&v(l,e)?l[e]:l);r&&o>s.high&&(s.high=o),i&&o<s.low&&(s.low=o)}}return(r||i)&&a(n),(t.referenceValue||t.referenceValue===0)&&(s.high=Math.max(t.referenceValue,s.high),s.low=Math.min(t.referenceValue,s.low)),s.high<=s.low&&(s.low===0?s.high=1:s.low<0?s.high=0:(s.high>0||(s.high=1),s.low=0)),s}function kt(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r;const i={labels:(n.labels||[]).slice(),series:St(n.series,e,s)},a=i.labels.length;return wt(i.series)?(r=Math.max(a,...i.series.map(l=>l.length)),i.series.forEach(l=>{l.push(...H(Math.max(0,r-l.length)))})):r=i.series.length,i.labels.push(...H(Math.max(0,r-a),()=>"")),t&&Et(i),i}function Et(n){var t;(t=n.labels)===null||t===void 0||t.reverse(),n.series.reverse();for(const e of n.series)v(e,"data")?e.data.reverse():Array.isArray(e)&&e.reverse()}function At(n,t){let e,s;if(typeof n!="object"){const r=k(n);t==="x"?e=r:s=r}else v(n,"x")&&(e=k(n.x)),v(n,"y")&&(s=k(n.y));if(!(e===void 0&&s===void 0))return{x:e,y:s}}function D(n,t){if(!Q(n))return t?At(n,t):k(n)}function T(n,t){return Array.isArray(n)?n.map(e=>v(e,"value")?D(e.value,t):D(e,t)):T(n.data,t)}function St(n,t,e){if(xt(n))return n.map(r=>T(r,t));const s=T(n,t);return e?s.map(r=>[r]):s}function Mt(n,t,e){const s={increasingX:!1,fillHoles:!1,...e},r=[];let i=!0;for(let a=0;a<n.length;a+=2)B(t[a/2].value)===void 0?s.fillHoles||(i=!0):(s.increasingX&&a>=2&&n[a]<=n[a-2]&&(i=!0),i&&(r.push({pathCoordinates:[],valueData:[]}),i=!1),r[r.length-1].pathCoordinates.push(n[a],n[a+1]),r[r.length-1].valueData.push(t[a/2]));return r}function W(n){let t="";return n==null?n:(typeof n=="number"?t=""+n:typeof n=="object"?t=JSON.stringify({data:n}):t=String(n),Object.keys(Y).reduce((e,s)=>e.replaceAll(s,Y[s]),t))}class jt{call(t,e){return this.svgElements.forEach(s=>Reflect.apply(s[t],s,e)),this}attr(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("attr",e)}elem(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("elem",e)}root(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("root",e)}getNode(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("getNode",e)}foreignObject(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("foreignObject",e)}text(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("text",e)}empty(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("empty",e)}remove(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("remove",e)}addClass(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("addClass",e)}removeClass(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("removeClass",e)}removeAllClasses(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("removeAllClasses",e)}animate(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("animate",e)}constructor(t){this.svgElements=[];for(let e=0;e<t.length;e++)this.svgElements.push(new w(t[e]))}}const Z={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function J(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4?arguments[4]:void 0;const{easing:i,...a}=e,l={};let o,u;i&&(o=Array.isArray(i)?i:Z[i]),a.begin=G(a.begin,"ms"),a.dur=G(a.dur,"ms"),o&&(a.calcMode="spline",a.keySplines=o.join(" "),a.keyTimes="0;1"),s&&(a.fill="freeze",l[t]=a.from,n.attr(l),u=P(a.begin||0).value,a.begin="indefinite");const f=n.elem("animate",{attributeName:t,...a});s&&setTimeout(()=>{try{f._node.beginElement()}catch{l[t]=a.to,n.attr(l),f.remove()}},u);const d=f.getNode();r&&d.addEventListener("beginEvent",()=>r.emit("animationBegin",{element:n,animate:d,params:e})),d.addEventListener("endEvent",()=>{r&&r.emit("animationEnd",{element:n,animate:d,params:e}),s&&(l[t]=a.to,n.attr(l),f.remove())})}class w{attr(t,e){return typeof t=="string"?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(s=>{if(t[s]!==void 0)if(s.indexOf(":")!==-1){const r=s.split(":");this._node.setAttributeNS(E[r[0]],s,String(t[s]))}else this._node.setAttribute(s,String(t[s]))}),this)}elem(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return new w(t,e,s,this,r)}parent(){return this._node.parentNode instanceof SVGElement?new w(this._node.parentNode):null}root(){let t=this._node;for(;t.nodeName!=="svg"&&t.parentElement;)t=t.parentElement;return new w(t)}querySelector(t){const e=this._node.querySelector(t);return e?new w(e):null}querySelectorAll(t){const e=this._node.querySelectorAll(t);return new jt(e)}getNode(){return this._node}foreignObject(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;if(typeof t=="string"){const l=document.createElement("div");l.innerHTML=t,i=l.firstChild}else i=t;i instanceof Element&&i.setAttribute("xmlns",E.xmlns);const a=this.elem("foreignObject",e,s,r);return a._node.appendChild(i),a}text(t){return this._node.appendChild(document.createTextNode(t)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var t;return(t=this._node.parentNode)===null||t===void 0||t.removeChild(this._node),this.parent()}replace(t){var e;return(e=this._node.parentNode)===null||e===void 0||e.replaceChild(t._node,this._node),t}append(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}classes(){const t=this._node.getAttribute("class");return t?t.trim().split(/\s+/):[]}addClass(t){return this._node.setAttribute("class",this.classes().concat(t.trim().split(/\s+/)).filter(function(e,s,r){return r.indexOf(e)===s}).join(" ")),this}removeClass(t){const e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter(s=>e.indexOf(s)===-1).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2?arguments[2]:void 0;return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(a=>J(this,r,a,!1,s)):J(this,r,i,e,s)}),this}constructor(t,e,s,r,i=!1){t instanceof Element?this._node=t:(this._node=document.createElementNS(E.svg,t),t==="svg"&&this.attr({"xmlns:ct":E.ct})),e&&this.attr(e),s&&this.addClass(s),r&&(i&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))}}w.Easing=Z;function Lt(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"100%",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"100%",s=arguments.length>3?arguments[3]:void 0;Array.from(n.querySelectorAll("svg")).filter(i=>i.getAttributeNS(E.xmlns,"ct")).forEach(i=>n.removeChild(i));const r=new w("svg").attr({width:t,height:e}).attr({style:"width: ".concat(t,"; height: ").concat(e,";")});return s&&r.addClass(s),n.appendChild(r.getNode()),r}function Nt(n){return typeof n=="number"?{top:n,right:n,bottom:n,left:n}:n===void 0?{top:0,right:0,bottom:0,left:0}:{top:typeof n.top=="number"?n.top:0,right:typeof n.right=="number"?n.right:0,bottom:typeof n.bottom=="number"?n.bottom:0,left:typeof n.left=="number"?n.left:0}}function $t(n,t){var e,s,r,i;const a=Boolean(t.axisX||t.axisY),l=((e=t.axisY)===null||e===void 0?void 0:e.offset)||0,o=((s=t.axisX)===null||s===void 0?void 0:s.offset)||0,u=(r=t.axisY)===null||r===void 0?void 0:r.position,f=(i=t.axisX)===null||i===void 0?void 0:i.position;let d=n.width()||P(t.width).value||0,h=n.height()||P(t.height).value||0;const m=Nt(t.chartPadding);d=Math.max(d,l+m.left+m.right),h=Math.max(h,o+m.top+m.bottom);const c={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return a?(f==="start"?(c.y2=m.top+o,c.y1=Math.max(h-m.bottom,c.y2+1)):(c.y2=m.top,c.y1=Math.max(h-m.bottom-o,c.y2+1)),u==="start"?(c.x1=m.left+l,c.x2=Math.max(d-m.right,c.x1+1)):(c.x1=m.left,c.x2=Math.max(d-m.right-l,c.x1+1))):(c.x1=m.left,c.x2=Math.max(d-m.right,c.x1+1),c.y2=m.top,c.y1=Math.max(h-m.bottom,c.y2+1)),c}function zt(n,t,e,s,r,i,a,l){const o={["".concat(e.units.pos,"1")]:n,["".concat(e.units.pos,"2")]:n,["".concat(e.counterUnits.pos,"1")]:s,["".concat(e.counterUnits.pos,"2")]:s+r},u=i.elem("line",o,a.join(" "));l.emit("draw",{type:"grid",axis:e,index:t,group:i,element:u,...o})}function Pt(n,t,e,s){const r=n.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},e,!0);s.emit("draw",{type:"gridBackground",group:n,element:r})}function It(n,t,e,s,r,i,a,l,o,u){const f={[r.units.pos]:n+a[r.units.pos],[r.counterUnits.pos]:a[r.counterUnits.pos],[r.units.len]:t,[r.counterUnits.len]:Math.max(0,i-10)},d=Math.round(f[r.units.len]),h=Math.round(f[r.counterUnits.len]),m=document.createElement("span");m.className=o.join(" "),m.style[r.units.len]=d+"px",m.style[r.counterUnits.len]=h+"px",m.textContent=String(s);const c=l.foreignObject(m,{style:"overflow: visible;",...f});u.emit("draw",{type:"label",axis:r,index:e,group:l,element:c,text:s,...f})}function K(n,t,e){let s;const r=[];function i(l){const o=s;s=S({},n),t&&t.forEach(u=>{window.matchMedia(u[0]).matches&&(s=S(s,u[1]))}),e&&l&&e.emit("optionsChanged",{previousOptions:o,currentOptions:s})}function a(){r.forEach(l=>l.removeEventListener("change",i))}if(window.matchMedia)t&&t.forEach(l=>{const o=window.matchMedia(l[0]);o.addEventListener("change",i),r.push(o)});else throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return i(),{removeMediaQueryListeners:a,getCurrentOptions(){return s}}}const V={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},Bt={accuracy:3};function L(n,t,e,s,r,i){const a={command:r?n.toLowerCase():n.toUpperCase(),...t,...i?{data:i}:{}};e.splice(s,0,a)}function F(n,t){n.forEach((e,s)=>{V[e.command.toLowerCase()].forEach((r,i)=>{t(e,r,s,i,n)})})}class y{static join(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2?arguments[2]:void 0;const r=new y(e,s);for(let i=0;i<t.length;i++){const a=t[i];for(let l=0;l<a.pathElements.length;l++)r.pathElements.push(a.pathElements[l])}return r}position(t){return t!==void 0?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}remove(t){return this.pathElements.splice(this.pos,t),this}move(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3?arguments[3]:void 0;return L("M",{x:+t,y:+e},this.pathElements,this.pos++,s,r),this}line(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3?arguments[3]:void 0;return L("L",{x:+t,y:+e},this.pathElements,this.pos++,s,r),this}curve(t,e,s,r,i,a){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,o=arguments.length>7?arguments[7]:void 0;return L("C",{x1:+t,y1:+e,x2:+s,y2:+r,x:+i,y:+a},this.pathElements,this.pos++,l,o),this}arc(t,e,s,r,i,a,l){let o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=arguments.length>8?arguments[8]:void 0;return L("A",{rx:t,ry:e,xAr:s,lAf:r,sf:i,x:a,y:l},this.pathElements,this.pos++,o,u),this}parse(t){const e=t.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((r,i)=>(i.match(/[A-Za-z]/)&&r.push([]),r[r.length-1].push(i),r),[]);e[e.length-1][0].toUpperCase()==="Z"&&e.pop();const s=e.map(r=>{const i=r.shift(),a=V[i.toLowerCase()];return{command:i,...a.reduce((l,o,u)=>(l[o]=+r[u],l),{})}});return this.pathElements.splice(this.pos,0,...s),this.pos+=s.length,this}stringify(){const t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce((e,s)=>{const r=V[s.command.toLowerCase()].map(i=>{const a=s[i];return this.options.accuracy?Math.round(a*t)/t:a});return e+s.command+r.join(",")},"")+(this.close?"Z":"")}scale(t,e){return F(this.pathElements,(s,r)=>{s[r]*=r[0]==="x"?t:e}),this}translate(t,e){return F(this.pathElements,(s,r)=>{s[r]+=r[0]==="x"?t:e}),this}transform(t){return F(this.pathElements,(e,s,r,i,a)=>{const l=t(e,s,r,i,a);(l||l===0)&&(e[s]=l)}),this}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const e=new y(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(s=>({...s})),e.options={...this.options},e}splitByCommand(t){const e=[new y];return this.pathElements.forEach(s=>{s.command===t.toUpperCase()&&e[e.length-1].pathElements.length!==0&&e.push(new y),e[e.length-1].pathElements.push(s)}),e}constructor(t=!1,e){this.close=t,this.pathElements=[],this.pos=0,this.options={...Bt,...e}}}function R(n){const t={fillHoles:!1,...n};return function(s,r){const i=new y;let a=!0;for(let l=0;l<s.length;l+=2){const o=s[l],u=s[l+1],f=r[l/2];B(f.value)!==void 0?(a?i.move(o,u,!1,f):i.line(o,u,!1,f),a=!1):t.fillHoles||(a=!0)}return i}}function Tt(n){const t={fillHoles:!1,...n};return function e(s,r){const i=Mt(s,r,{fillHoles:t.fillHoles,increasingX:!0});if(i.length){if(i.length>1)return y.join(i.map(a=>e(a.pathCoordinates,a.valueData)));{if(s=i[0].pathCoordinates,r=i[0].valueData,s.length<=4)return R()(s,r);const a=[],l=[],o=s.length/2,u=[],f=[],d=[],h=[];for(let c=0;c<o;c++)a[c]=s[c*2],l[c]=s[c*2+1];for(let c=0;c<o-1;c++)d[c]=l[c+1]-l[c],h[c]=a[c+1]-a[c],f[c]=d[c]/h[c];u[0]=f[0],u[o-1]=f[o-2];for(let c=1;c<o-1;c++)f[c]===0||f[c-1]===0||f[c-1]>0!=f[c]>0?u[c]=0:(u[c]=3*(h[c-1]+h[c])/((2*h[c]+h[c-1])/f[c-1]+(h[c]+2*h[c-1])/f[c]),isFinite(u[c])||(u[c]=0));const m=new y().move(a[0],l[0],!1,r[0]);for(let c=0;c<o-1;c++)m.curve(a[c]+h[c]/3,l[c]+u[c]*h[c]/3,a[c+1]-h[c]/3,l[c+1]-u[c+1]*h[c]/3,a[c+1],l[c+1],!1,r[c+1]);return m}}else return R()([],[])}}class Vt{on(t,e){const{allListeners:s,listeners:r}=this;t==="*"?s.add(e):(r.has(t)||r.set(t,new Set),r.get(t).add(e))}off(t,e){const{allListeners:s,listeners:r}=this;if(t==="*")e?s.delete(e):s.clear();else if(r.has(t)){const i=r.get(t);e?i.delete(e):i.clear(),i.size||r.delete(t)}}emit(t,e){const{allListeners:s,listeners:r}=this;r.has(t)&&r.get(t).forEach(i=>i(e)),s.forEach(i=>i(t,e))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const X=new WeakMap;class Ft{update(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=S({},s?this.options:this.defaultOptions,e),!this.initializeTimeoutId)){var r;(r=this.optionsProvider)===null||r===void 0||r.removeMediaQueryListeners(),this.optionsProvider=K(this.options,this.responsiveOptions,this.eventEmitter)}return!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){if(this.initializeTimeoutId)window.clearTimeout(this.initializeTimeoutId);else{var t;window.removeEventListener("resize",this.resizeListener),(t=this.optionsProvider)===null||t===void 0||t.removeMediaQueryListeners()}return X.delete(this.container),this}on(t,e){return this.eventEmitter.on(t,e),this}off(t,e){return this.eventEmitter.off(t,e),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=K(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",()=>this.update()),this.options.plugins&&this.options.plugins.forEach(t=>{Array.isArray(t)?t[0](this,t[1]):t(this)}),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(t,e,s,r,i){this.data=e,this.defaultOptions=s,this.options=r,this.responsiveOptions=i,this.eventEmitter=new Vt,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout(()=>this.initialize(),0);const a=typeof t=="string"?document.querySelector(t):t;if(!a)throw new Error("Target element is not found");this.container=a;const l=X.get(a);l&&l.detach(),X.set(a,this)}}const C={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class tt{createGridAndLabels(t,e,s,r){const i=this.units.pos==="x"?s.axisX:s.axisY,a=this.ticks.map((o,u)=>this.projectValue(o,u)),l=this.ticks.map(i.labelInterpolationFnc);a.forEach((o,u)=>{const f=l[u],d={x:0,y:0};let h;a[u+1]?h=a[u+1]-o:h=Math.max(this.axisLength-o,this.axisLength/this.ticks.length),!(f!==""&&bt(f))&&(this.units.pos==="x"?(o=this.chartRect.x1+o,d.x=s.axisX.labelOffset.x,s.axisX.position==="start"?d.y=this.chartRect.padding.top+s.axisX.labelOffset.y+5:d.y=this.chartRect.y1+s.axisX.labelOffset.y+5):(o=this.chartRect.y1-o,d.y=s.axisY.labelOffset.y-h,s.axisY.position==="start"?d.x=this.chartRect.padding.left+s.axisY.labelOffset.x:d.x=this.chartRect.x2+s.axisY.labelOffset.x+10),i.showGrid&&zt(o,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[s.classNames.grid,s.classNames[this.units.dir]],r),i.showLabel&&It(o,h,u,f,this,i.offset,d,e,[s.classNames.label,s.classNames[this.units.dir],i.position==="start"?s.classNames[i.position]:s.classNames.end],r))})}constructor(t,e,s){this.units=t,this.chartRect=e,this.ticks=s,this.counterUnits=t===C.x?C.y:C.x,this.axisLength=e[this.units.rectEnd]-e[this.units.rectStart],this.gridOffset=e[this.units.rectOffset]}}class Rt extends tt{projectValue(t){const e=Number(B(t,this.units.pos));return this.axisLength*(e-this.bounds.min)/this.bounds.range}constructor(t,e,s,r){const i=r.highLow||Ot(e,r,t.pos),a=vt(s[t.rectEnd]-s[t.rectStart],i,r.scaleMinSpace||20,r.onlyInteger),l={min:a.min,max:a.max};super(t,s,a.values),this.bounds=a,this.range=l}}class Xt extends tt{projectValue(t,e){return this.stepLength*e}constructor(t,e,s,r){const i=r.ticks||[];super(t,s,i);const a=Math.max(1,i.length-(r.stretch?1:0));this.stepLength=this.axisLength/a,this.stretch=Boolean(r.stretch)}}function M(n,t,e){var s;if(v(n,"name")&&n.name&&((s=t.series)===null||s===void 0?void 0:s[n.name])){const i=(t==null?void 0:t.series[n.name])[e];return i===void 0?t[e]:i}else return t[e]}const et={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:U,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:U,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class qt extends Ft{createChart(t){const{data:e}=this,s=kt(e,t.reverseData,!0),r=Lt(this.container,t.width,t.height,t.classNames.chart);this.svg=r;const i=r.elem("g").addClass(t.classNames.gridGroup),a=r.elem("g"),l=r.elem("g").addClass(t.classNames.labelGroup),o=$t(r,t);let u,f;t.axisX.type===void 0?u=new Xt(C.x,s.series,o,{...t.axisX,ticks:s.labels,stretch:t.fullWidth}):u=new t.axisX.type(C.x,s.series,o,t.axisX),t.axisY.type===void 0?f=new Rt(C.y,s.series,o,{...t.axisY,high:j(t.high)?t.high:t.axisY.high,low:j(t.low)?t.low:t.axisY.low}):f=new t.axisY.type(C.y,s.series,o,t.axisY),u.createGridAndLabels(i,l,t,this.eventEmitter),f.createGridAndLabels(i,l,t,this.eventEmitter),t.showGridBackground&&Pt(i,o,t.classNames.gridBackground,this.eventEmitter),yt(e.series,(d,h)=>{const m=a.elem("g"),c=v(d,"name")&&d.name,Me=v(d,"className")&&d.className,N=v(d,"meta")?d.meta:void 0;c&&m.attr({"ct:series-name":c}),N&&m.attr({"ct:meta":W(N)}),m.addClass([t.classNames.series,Me||"".concat(t.classNames.series,"-").concat(dt(h))].join(" "));const st=[],nt=[];s.series[h].forEach((b,g)=>{const p={x:o.x1+u.projectValue(b,g,s.series[h]),y:o.y1-f.projectValue(b,g,s.series[h])};st.push(p.x,p.y),nt.push({value:b,valueIndex:g,meta:_t(d,g)})});const O={lineSmooth:M(d,t,"lineSmooth"),showPoint:M(d,t,"showPoint"),showLine:M(d,t,"showLine"),showArea:M(d,t,"showArea"),areaBase:M(d,t,"areaBase")};let q;typeof O.lineSmooth=="function"?q=O.lineSmooth:q=O.lineSmooth?Tt():R();const $=q(st,nt);if(O.showPoint&&$.pathElements.forEach(b=>{const{data:g}=b,p=m.elem("line",{x1:b.x,y1:b.y,x2:b.x+.01,y2:b.y},t.classNames.point);if(g){let _,z;v(g.value,"x")&&(_=g.value.x),v(g.value,"y")&&(z=g.value.y),p.attr({"ct:value":[_,z].filter(j).join(","),"ct:meta":W(g.meta)})}this.eventEmitter.emit("draw",{type:"point",value:g==null?void 0:g.value,index:(g==null?void 0:g.valueIndex)||0,meta:g==null?void 0:g.meta,series:d,seriesIndex:h,axisX:u,axisY:f,group:m,element:p,x:b.x,y:b.y,chartRect:o})}),O.showLine){const b=m.elem("path",{d:$.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:s.series[h],path:$.clone(),chartRect:o,index:h,series:d,seriesIndex:h,meta:N,axisX:u,axisY:f,group:m,element:b})}if(O.showArea&&f.range){const b=Math.max(Math.min(O.areaBase,f.range.max),f.range.min),g=o.y1-f.projectValue(b);$.splitByCommand("M").filter(p=>p.pathElements.length>1).map(p=>{const _=p.pathElements[0],z=p.pathElements[p.pathElements.length-1];return p.clone(!0).position(0).remove(1).move(_.x,g).line(_.x,_.y).position(p.pathElements.length+1).line(z.x,g)}).forEach(p=>{const _=m.elem("path",{d:p.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:s.series[h],path:p.clone(),series:d,seriesIndex:h,axisX:u,axisY:f,chartRect:o,index:h,group:m,element:_,meta:N})})}},t.reverseData),this.eventEmitter.emit("created",{chartRect:o,axisX:u,axisY:f,svg:r,options:t})}constructor(t,e,s,r){super(t,e,et,S({},et,s),r),this.data=e}}const je="",Yt={props:{stats:{type:Object,required:!0},type:{type:String,required:!0},interval:{type:String,required:!0},name:String},chart:void 0,computed:{data(){const n={views:[],visits:[],labels:[],totalViews:0,totalVisits:0,isFinished:!0};for(const{label:t,paths:e,missing:s,now:r}of Object.values(this.stats)){if(n.labels.push(t),s){n.views.push(null),n.visits.push(null);continue}r&&(n.isFinished=!1);const[i,a]=Object.values(e).reduce(([l,o],{counters:u})=>[l+u.views,o+u.visits],[0,0]);n.views.push(i),n.visits.push(a),n.totalViews+=i,n.totalVisits+=a}return n},series(){const n=this.type==="views"?this.data.views:this.data.visits;if(this.data.isFinished)return[n];const t=this.trimData(n),e=t.slice(0,-1),s=t.map((r,i)=>i<e.length-1?null:r);return console.log(s),[e,s]}},mounted(){this.chart=new qt(this.$refs.chart,{series:this.series,labels:this.data.labels},{low:0,fullWidth:!0,lineSmooth:!1,showArea:!0,showLine:!0,chartPadding:{top:0,left:0,right:0,bottom:0},axisX:{showGrid:!1,labelInterpolationFnc:this.showMaxLabels(8)},axisY:{labelInterpolationFnc:(n,t)=>t===0?"":n,onlyInteger:!0}},[["screen and (max-width: 800px)",{axisX:{labelInterpolationFnc:this.showMaxLabels(4)}}]])},watch:{series(n){this.chart.update({series:n,labels:this.data.labels})}},methods:{showMaxLabels(n){return(t,e)=>{const{length:s}=this.data.labels;if(s<=n)return t;const r=Math.round(s/n);return e%r===0?t:null}},trimData(n){for(let t=n.length-1;t>=0;t--)if(n[t]!==null)return n.slice(0,t+1);return n}}},Le="";var Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"k-stat k-stats-chart"},[e("div",{ref:"chart",staticClass:"k-stats-chart-chartist-container"})])},Ut=[],Ht=x(Yt,Gt,Ut,!1,null,null,null,null);const Qt=Ht.exports,Dt=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"})),Wt={props:{stats:{type:Object,required:!0}},computed:{data(){var e;let n=0;const t={};for(const{paths:s,missing:r}of Object.values(this.stats))if(!r)for(const{counters:i}of Object.values(s))for(const a of it)(e=t[a])!=null||(t[a]={name:a,visits:0,percent:0}),t[a].visits+=i[a],n+=i[a];return Object.values(t).map(s=>({...s,percent:n?s.visits/n*100:0})).sort((s,r)=>r.percent-s.percent)}}};var Zt=function(){var t=this,e=t._self._c;return e("k-table",{staticClass:"k-stats-os",attrs:{index:!1,columns:{name:{label:"Operating System",type:"stats-percent",mobile:!0},visits:{label:"Visits",width:"8em",mobile:!0}},rows:t.data}})},Jt=[],Kt=x(Wt,Zt,Jt,!1,null,null,null,null);const te=Kt.exports,ee=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),se=n=>(n.startsWith("/")?n.slice(1):n).replace("/","+"),ne={props:{stats:{type:Object,required:!0},urls:{type:Object,required:!0},type:{type:String,required:!0},page:String},computed:{data(){var e;let n=0;const t={};for(const{paths:s,missing:r}of Object.values(this.stats))if(!r)for(const[i,{counters:a,title:l}]of Object.entries(s)){const o=l||i,u=se(i),f=this.urls.page.replace("{{slug}}",u);(e=t[i])!=null||(t[i]={name:o,count:0,percent:0,url:f});const d=this.type==="views"?a.views:a.visits;t[i].count+=d,n+=d}return Object.values(t).map(s=>({...s,percent:n===0?0:s.count/n*100})).filter(s=>!!s.count).sort((s,r)=>r.percent-s.percent)},emptyMessage(){return this.page?`No ${this.type} for ${this.page}`:`No ${this.type==="views"?"viewed":"visited"} pages`}},methods:{capitalize(n){return n[0].toUpperCase()+n.slice(1)}}},Ne="";var re=function(){var t=this,e=t._self._c;return e("k-table",{staticClass:"k-stats-pages",attrs:{index:!1,columns:{name:{label:"Page",type:"stats-page",mobile:!0},count:{label:t.capitalize(t.type),width:"8em",mobile:!0}},rows:t.data,empty:t.emptyMessage}})},ie=[],ae=x(ne,re,ie,!1,null,null,null,null);const le=ae.exports,oe=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),ce={props:{value:{type:String,required:!0},row:{type:Object,required:!0}}},$e="";var ue=function(){var t=this,e=t._self._c;return e("div",{staticClass:"k-table-stats-percent-cell"},[e("div",{staticClass:"k-table-stats-percent-cell-bar-wrapper"},[e("div",{staticClass:"k-table-stats-percent-cell-bar",style:`width: ${t.row.percent}%`})]),e("a",{attrs:{href:t.row.url}},[e("div",{staticClass:"k-table-stats-percent-cell-text k-text-field-preview"},[t._v(" "+t._s(t.value)+" ")])])])},he=[],fe=x(ce,ue,he,!1,null,null,null,null);const de=fe.exports,me=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"})),ge={props:{value:{type:String,required:!0},row:{type:Object,required:!0}}},ze="";var pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"k-table-stats-percent-cell"},[e("div",{staticClass:"k-table-stats-percent-cell-bar-wrapper"},[e("div",{staticClass:"k-table-stats-percent-cell-bar",style:`width: ${t.row.percent}%`})]),e("div",{staticClass:"k-table-stats-percent-cell-text k-text-field-preview"},[t._v(" "+t._s(t.value)+" ")])])},ve=[],be=x(ge,pe,ve,!1,null,null,null,null);const we=be.exports,ye=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),_e={props:{stats:{type:Object,required:!0},urls:{type:Object,required:!0},labels:{type:Object,required:!0},page:String},data(){return{type:"views"}},methods:{toggleIntervalSelect(){var n;(n=this.$refs.intervalSelect)==null||n.toggle()}}},Pe="";var xe=function(){var t=this,e=t._self._c;return e("k-inside",[e("k-view",{staticClass:"k-stats-main-view"},[e("k-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("k-button-group",[e("k-button",{attrs:{icon:"cog"}},[t._v("Settings")])],1)]},proxy:!0},{key:"right",fn:function(){return[e("k-button-group",[e("k-button-link",{attrs:{link:t.urls.last,icon:"angle-left",disabled:!t.urls.last}}),e("k-dropdown",[e("k-button",{attrs:{icon:"calendar"},on:{click:t.toggleIntervalSelect}},[t._v(" "+t._s(t.labels.date)+" ")]),e("k-dropdown-content",{ref:"intervalSelect"},[e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.today}},[t._v(" Today ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls["7-days"]}},[t._v(" Last 7 days ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls["30-days"]}},[t._v(" Last 30 days ")]),e("hr"),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.day}},[t._v(" Day ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.week}},[t._v(" Week ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.month}},[t._v(" Month ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.year}},[t._v(" Year ")])],1)],1),e("k-button-link",{attrs:{icon:"angle-right",link:t.urls.next,disabled:!t.urls.next}})],1)]},proxy:!0}])},[t._v(" Stats "+t._s(t.page?` for ${t.labels.page}`:"")+" ")]),e("section",{staticClass:"k-section"},[e("header",{staticClass:"k-section-header"},[e("k-headline",[e("button",{staticClass:"k-stats-type-button",class:{active:t.type==="views"},on:{click:function(s){t.type="views"}}},[e("span",{staticClass:"k-stats-type-display"},[t._v("Views")]),e("span",{staticClass:"k-stats-type-width"},[t._v("Views")])]),t._v(" / "),e("button",{staticClass:"k-stats-type-button",class:{active:t.type==="visits"},on:{click:function(s){t.type="visits"}}},[t._v(" Visits ")])])],1),e("k-stats-chart",{attrs:{stats:t.stats,type:t.type,page:t.labels.page}})],1),e("k-grid",{attrs:{gutter:"medium"}},[e("k-column",{attrs:{width:"1/2"}},[e("section",{staticClass:"k-section",staticStyle:{"padding-bottom":"1.5rem"}},[e("header",{staticClass:"k-section-header"},[e("k-headline",[t._v("Devices")])],1),e("k-stats-browsers",{attrs:{stats:t.stats}})],1),e("section",{staticClass:"k-section"},[e("k-stats-os",{attrs:{stats:t.stats}})],1)]),e("k-column",{attrs:{width:"1/2"}},[e("section",{staticClass:"k-section"},[e("header",{staticClass:"k-section-header"},[e("k-headline",[t._v("Pages")])],1),e("k-stats-pages",{attrs:{stats:t.stats,urls:t.urls,type:t.type}})],1)])],1)],1)],1)},Ce=[],Oe=x(_e,xe,Ce,!1,null,null,null,null);const ke=Oe.exports,Ee=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"})),Ae=n=>n.substring(n.lastIndexOf("/")+1,n.lastIndexOf(".")).toLowerCase(),Se=Object.freeze({import(n){return Object.entries(n).reduce((t,[e,s])=>(t[Ae(e)]=s.default,t),{})}});window.panel.plugin("arnoson/kirby-stats",{components:Se.import(Object.assign({"./components/k-stats-browsers.vue":ht,"./components/k-stats-chart.vue":Dt,"./components/k-stats-os.vue":ee,"./components/k-stats-pages.vue":oe,"./components/k-table-stats-page-cell.vue":me,"./components/k-table-stats-percent-cell.vue":ye,"./views/k-stats-main-view.vue":Ee})),use:{plugin(n){}}})})();
