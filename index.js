(function(){"use strict";const rt=["Firefox","Chrome","Opera","Edge","Safari","InternetExplorer"],it=["Windows","Apple","Linux","Android","iOS"],at={props:{stats:{type:Object,required:!0}},computed:{data(){var e;let r=0;const t={};for(const{paths:s,missing:n}of Object.values(this.stats))if(!n)for(const{counters:i}of Object.values(s))for(const a of rt)(e=t[a])!=null||(t[a]={name:a,visits:0,percent:0}),t[a].visits+=i[a],r+=i[a];return Object.values(t).map(s=>({...s,percent:s.visits/r*100})).sort((s,n)=>n.percent-s.percent)}}};function x(r,t,e,s,n,i,a,l){var o=typeof r=="function"?r.options:r;t&&(o.render=t,o.staticRenderFns=e,o._compiled=!0),s&&(o.functional=!0),i&&(o._scopeId="data-v-"+i);var c;if(a?(c=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),n&&n.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(a)},o._ssrRegister=c):n&&(c=l?function(){n.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(o.functional){o._injectStyles=c;var f=o.render;o.render=function(m,u){return c.call(u),f(m,u)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,c):[c]}return{exports:r,options:o}}var lt=function(){var t=this,e=t._self._c;return e("k-table",{staticClass:"k-stats-browsers",attrs:{index:!1,columns:{name:{label:"Browser",type:"stats-percent",mobile:!0},visits:{label:"Visits",width:"8em",mobile:!0}},rows:t.data}})},ot=[],ut=x(at,lt,ot,!1,null,null,null,null);const ct=ut.exports,ht=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),A={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},ft=8,q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function G(r,t){return typeof r=="number"?r+t:r}function P(r){if(typeof r=="string"){const t=/^(\d+)\s*(.*)$/g.exec(r);return{value:t?+t[1]:0,unit:(t==null?void 0:t[2])||void 0}}return{value:Number(r)}}function dt(r){return String.fromCharCode(97+r%26)}const I=2221e-19;function mt(r){return Math.floor(Math.log(Math.abs(r))/Math.LN10)}function k(r,t,e){return t/e.range*r}function gt(r,t){const e=Math.pow(10,t||ft);return Math.round(r*e)/e}function pt(r){if(r===1)return r;function t(a,l){return a%l===0?l:t(l,a%l)}function e(a){return a*a+1}let s=2,n=2,i;if(r%2===0)return 2;do s=e(s)%r,n=e(e(n))%r,i=t(Math.abs(s-n),r);while(i===1);return i}function vt(r,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const n={high:t.high,low:t.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};n.valueRange=n.high-n.low,n.oom=mt(n.valueRange),n.step=Math.pow(10,n.oom),n.min=Math.floor(n.low/n.step)*n.step,n.max=Math.ceil(n.high/n.step)*n.step,n.range=n.max-n.min,n.numberOfSteps=Math.round(n.range/n.step);const a=k(r,n.step,n)<e,l=s?pt(n.range):0;if(s&&k(r,1,n)>=e)n.step=1;else if(s&&l<n.step&&k(r,l,n)>=e)n.step=l;else{let h=0;for(;;){if(a&&k(r,n.step,n)<=e)n.step*=2;else if(!a&&k(r,n.step/2,n)>=e){if(n.step/=2,s&&n.step%1!==0){n.step*=2;break}}else break;if(h++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}n.step=Math.max(n.step,I);function o(h,m){return h===(h+=m)&&(h*=1+(m>0?I:-I)),h}let c=n.min,f=n.max;for(;c+n.step<=n.low;)c=o(c,n.step);for(;f-n.step>=n.high;)f=o(f,-n.step);n.min=c,n.max=f,n.range=n.max-n.min;const d=[];for(let h=n.min;h<=n.max;h=o(h,n.step)){const m=gt(h);m!==d[d.length-1]&&d.push(m)}return n.values=d,n}function S(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];for(let n=0;n<e.length;n++){const i=e[n];for(const a in i){const l=i[a];typeof l=="object"&&l!==null&&!(l instanceof Array)?r[a]=S(r[a],l):r[a]=l}}return r}const U=r=>r;function H(r,t){return Array.from({length:r},t?(e,s)=>t(s):()=>{})}function v(r,t){return r!==null&&typeof r=="object"&&Reflect.has(r,t)}function j(r){return r!==null&&isFinite(r)}function bt(r){return!r&&r!==0}function E(r){return j(r)?Number(r):void 0}function wt(r){return Array.isArray(r)?r.every(Array.isArray):!1}function _t(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=0;r[e?"reduceRight":"reduce"]((n,i,a)=>t(i,s++,a),void 0)}function yt(r,t){const e=Array.isArray(r)?r[t]:v(r,"data")?r.data[t]:null;return v(e,"meta")?e.meta:void 0}function Q(r){return r==null||typeof r=="number"&&isNaN(r)}function xt(r){return Array.isArray(r)&&r.every(t=>Array.isArray(t)||v(t,"data"))}function Ct(r){return typeof r=="object"&&r!==null&&(Reflect.has(r,"x")||Reflect.has(r,"y"))}function B(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";return Ct(r)&&v(r,t)?E(r[t]):E(r)}function Ot(r,t,e){t={...t,...e?e==="x"?t.axisX:t.axisY:{}};const s={high:t.high===void 0?-Number.MAX_VALUE:+t.high,low:t.low===void 0?Number.MAX_VALUE:+t.low},n=t.high===void 0,i=t.low===void 0;function a(l){if(!Q(l))if(Array.isArray(l))for(let o=0;o<l.length;o++)a(l[o]);else{const o=Number(e&&v(l,e)?l[e]:l);n&&o>s.high&&(s.high=o),i&&o<s.low&&(s.low=o)}}return(n||i)&&a(r),(t.referenceValue||t.referenceValue===0)&&(s.high=Math.max(t.referenceValue,s.high),s.low=Math.min(t.referenceValue,s.low)),s.high<=s.low&&(s.low===0?s.high=1:s.low<0?s.high=0:(s.high>0||(s.high=1),s.low=0)),s}function Et(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n;const i={labels:(r.labels||[]).slice(),series:St(r.series,e,s)},a=i.labels.length;return wt(i.series)?(n=Math.max(a,...i.series.map(l=>l.length)),i.series.forEach(l=>{l.push(...H(Math.max(0,n-l.length)))})):n=i.series.length,i.labels.push(...H(Math.max(0,n-a),()=>"")),t&&At(i),i}function At(r){var t;(t=r.labels)===null||t===void 0||t.reverse(),r.series.reverse();for(const e of r.series)v(e,"data")?e.data.reverse():Array.isArray(e)&&e.reverse()}function kt(r,t){let e,s;if(typeof r!="object"){const n=E(r);t==="x"?e=n:s=n}else v(r,"x")&&(e=E(r.x)),v(r,"y")&&(s=E(r.y));if(!(e===void 0&&s===void 0))return{x:e,y:s}}function W(r,t){if(!Q(r))return t?kt(r,t):E(r)}function V(r,t){return Array.isArray(r)?r.map(e=>v(e,"value")?W(e.value,t):W(e,t)):V(r.data,t)}function St(r,t,e){if(xt(r))return r.map(n=>V(n,t));const s=V(r,t);return e?s.map(n=>[n]):s}function Mt(r,t,e){const s={increasingX:!1,fillHoles:!1,...e},n=[];let i=!0;for(let a=0;a<r.length;a+=2)B(t[a/2].value)===void 0?s.fillHoles||(i=!0):(s.increasingX&&a>=2&&r[a]<=r[a-2]&&(i=!0),i&&(n.push({pathCoordinates:[],valueData:[]}),i=!1),n[n.length-1].pathCoordinates.push(r[a],r[a+1]),n[n.length-1].valueData.push(t[a/2]));return n}function Z(r){let t="";return r==null?r:(typeof r=="number"?t=""+r:typeof r=="object"?t=JSON.stringify({data:r}):t=String(r),Object.keys(q).reduce((e,s)=>e.replaceAll(s,q[s]),t))}class jt{call(t,e){return this.svgElements.forEach(s=>Reflect.apply(s[t],s,e)),this}attr(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("attr",e)}elem(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("elem",e)}root(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("root",e)}getNode(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("getNode",e)}foreignObject(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("foreignObject",e)}text(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("text",e)}empty(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("empty",e)}remove(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("remove",e)}addClass(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("addClass",e)}removeClass(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("removeClass",e)}removeAllClasses(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("removeAllClasses",e)}animate(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.call("animate",e)}constructor(t){this.svgElements=[];for(let e=0;e<t.length;e++)this.svgElements.push(new w(t[e]))}}const D={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function J(r,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,n=arguments.length>4?arguments[4]:void 0;const{easing:i,...a}=e,l={};let o,c;i&&(o=Array.isArray(i)?i:D[i]),a.begin=G(a.begin,"ms"),a.dur=G(a.dur,"ms"),o&&(a.calcMode="spline",a.keySplines=o.join(" "),a.keyTimes="0;1"),s&&(a.fill="freeze",l[t]=a.from,r.attr(l),c=P(a.begin||0).value,a.begin="indefinite");const f=r.elem("animate",{attributeName:t,...a});s&&setTimeout(()=>{try{f._node.beginElement()}catch{l[t]=a.to,r.attr(l),f.remove()}},c);const d=f.getNode();n&&d.addEventListener("beginEvent",()=>n.emit("animationBegin",{element:r,animate:d,params:e})),d.addEventListener("endEvent",()=>{n&&n.emit("animationEnd",{element:r,animate:d,params:e}),s&&(l[t]=a.to,r.attr(l),f.remove())})}class w{attr(t,e){return typeof t=="string"?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(s=>{if(t[s]!==void 0)if(s.indexOf(":")!==-1){const n=s.split(":");this._node.setAttributeNS(A[n[0]],s,String(t[s]))}else this._node.setAttribute(s,String(t[s]))}),this)}elem(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return new w(t,e,s,this,n)}parent(){return this._node.parentNode instanceof SVGElement?new w(this._node.parentNode):null}root(){let t=this._node;for(;t.nodeName!=="svg"&&t.parentElement;)t=t.parentElement;return new w(t)}querySelector(t){const e=this._node.querySelector(t);return e?new w(e):null}querySelectorAll(t){const e=this._node.querySelectorAll(t);return new jt(e)}getNode(){return this._node}foreignObject(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;if(typeof t=="string"){const l=document.createElement("div");l.innerHTML=t,i=l.firstChild}else i=t;i instanceof Element&&i.setAttribute("xmlns",A.xmlns);const a=this.elem("foreignObject",e,s,n);return a._node.appendChild(i),a}text(t){return this._node.appendChild(document.createTextNode(t)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var t;return(t=this._node.parentNode)===null||t===void 0||t.removeChild(this._node),this.parent()}replace(t){var e;return(e=this._node.parentNode)===null||e===void 0||e.replaceChild(t._node,this._node),t}append(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}classes(){const t=this._node.getAttribute("class");return t?t.trim().split(/\s+/):[]}addClass(t){return this._node.setAttribute("class",this.classes().concat(t.trim().split(/\s+/)).filter(function(e,s,n){return n.indexOf(e)===s}).join(" ")),this}removeClass(t){const e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter(s=>e.indexOf(s)===-1).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2?arguments[2]:void 0;return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(a=>J(this,n,a,!1,s)):J(this,n,i,e,s)}),this}constructor(t,e,s,n,i=!1){t instanceof Element?this._node=t:(this._node=document.createElementNS(A.svg,t),t==="svg"&&this.attr({"xmlns:ct":A.ct})),e&&this.attr(e),s&&this.addClass(s),n&&(i&&n._node.firstChild?n._node.insertBefore(this._node,n._node.firstChild):n._node.appendChild(this._node))}}w.Easing=D;function Lt(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"100%",e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"100%",s=arguments.length>3?arguments[3]:void 0;Array.from(r.querySelectorAll("svg")).filter(i=>i.getAttributeNS(A.xmlns,"ct")).forEach(i=>r.removeChild(i));const n=new w("svg").attr({width:t,height:e}).attr({style:"width: ".concat(t,"; height: ").concat(e,";")});return s&&n.addClass(s),r.appendChild(n.getNode()),n}function Nt(r){return typeof r=="number"?{top:r,right:r,bottom:r,left:r}:r===void 0?{top:0,right:0,bottom:0,left:0}:{top:typeof r.top=="number"?r.top:0,right:typeof r.right=="number"?r.right:0,bottom:typeof r.bottom=="number"?r.bottom:0,left:typeof r.left=="number"?r.left:0}}function zt(r,t){var e,s,n,i;const a=Boolean(t.axisX||t.axisY),l=((e=t.axisY)===null||e===void 0?void 0:e.offset)||0,o=((s=t.axisX)===null||s===void 0?void 0:s.offset)||0,c=(n=t.axisY)===null||n===void 0?void 0:n.position,f=(i=t.axisX)===null||i===void 0?void 0:i.position;let d=r.width()||P(t.width).value||0,h=r.height()||P(t.height).value||0;const m=Nt(t.chartPadding);d=Math.max(d,l+m.left+m.right),h=Math.max(h,o+m.top+m.bottom);const u={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return a?(f==="start"?(u.y2=m.top+o,u.y1=Math.max(h-m.bottom,u.y2+1)):(u.y2=m.top,u.y1=Math.max(h-m.bottom-o,u.y2+1)),c==="start"?(u.x1=m.left+l,u.x2=Math.max(d-m.right,u.x1+1)):(u.x1=m.left,u.x2=Math.max(d-m.right-l,u.x1+1))):(u.x1=m.left,u.x2=Math.max(d-m.right,u.x1+1),u.y2=m.top,u.y1=Math.max(h-m.bottom,u.y2+1)),u}function $t(r,t,e,s,n,i,a,l){const o={["".concat(e.units.pos,"1")]:r,["".concat(e.units.pos,"2")]:r,["".concat(e.counterUnits.pos,"1")]:s,["".concat(e.counterUnits.pos,"2")]:s+n},c=i.elem("line",o,a.join(" "));l.emit("draw",{type:"grid",axis:e,index:t,group:i,element:c,...o})}function Pt(r,t,e,s){const n=r.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},e,!0);s.emit("draw",{type:"gridBackground",group:r,element:n})}function It(r,t,e,s,n,i,a,l,o,c){const f={[n.units.pos]:r+a[n.units.pos],[n.counterUnits.pos]:a[n.counterUnits.pos],[n.units.len]:t,[n.counterUnits.len]:Math.max(0,i-10)},d=Math.round(f[n.units.len]),h=Math.round(f[n.counterUnits.len]),m=document.createElement("span");m.className=o.join(" "),m.style[n.units.len]=d+"px",m.style[n.counterUnits.len]=h+"px",m.textContent=String(s);const u=l.foreignObject(m,{style:"overflow: visible;",...f});c.emit("draw",{type:"label",axis:n,index:e,group:l,element:u,text:s,...f})}function K(r,t,e){let s;const n=[];function i(l){const o=s;s=S({},r),t&&t.forEach(c=>{window.matchMedia(c[0]).matches&&(s=S(s,c[1]))}),e&&l&&e.emit("optionsChanged",{previousOptions:o,currentOptions:s})}function a(){n.forEach(l=>l.removeEventListener("change",i))}if(window.matchMedia)t&&t.forEach(l=>{const o=window.matchMedia(l[0]);o.addEventListener("change",i),n.push(o)});else throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return i(),{removeMediaQueryListeners:a,getCurrentOptions(){return s}}}const T={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},Bt={accuracy:3};function L(r,t,e,s,n,i){const a={command:n?r.toLowerCase():r.toUpperCase(),...t,...i?{data:i}:{}};e.splice(s,0,a)}function R(r,t){r.forEach((e,s)=>{T[e.command.toLowerCase()].forEach((n,i)=>{t(e,n,s,i,r)})})}class _{static join(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2?arguments[2]:void 0;const n=new _(e,s);for(let i=0;i<t.length;i++){const a=t[i];for(let l=0;l<a.pathElements.length;l++)n.pathElements.push(a.pathElements[l])}return n}position(t){return t!==void 0?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}remove(t){return this.pathElements.splice(this.pos,t),this}move(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3?arguments[3]:void 0;return L("M",{x:+t,y:+e},this.pathElements,this.pos++,s,n),this}line(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3?arguments[3]:void 0;return L("L",{x:+t,y:+e},this.pathElements,this.pos++,s,n),this}curve(t,e,s,n,i,a){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,o=arguments.length>7?arguments[7]:void 0;return L("C",{x1:+t,y1:+e,x2:+s,y2:+n,x:+i,y:+a},this.pathElements,this.pos++,l,o),this}arc(t,e,s,n,i,a,l){let o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,c=arguments.length>8?arguments[8]:void 0;return L("A",{rx:t,ry:e,xAr:s,lAf:n,sf:i,x:a,y:l},this.pathElements,this.pos++,o,c),this}parse(t){const e=t.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((n,i)=>(i.match(/[A-Za-z]/)&&n.push([]),n[n.length-1].push(i),n),[]);e[e.length-1][0].toUpperCase()==="Z"&&e.pop();const s=e.map(n=>{const i=n.shift(),a=T[i.toLowerCase()];return{command:i,...a.reduce((l,o,c)=>(l[o]=+n[c],l),{})}});return this.pathElements.splice(this.pos,0,...s),this.pos+=s.length,this}stringify(){const t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce((e,s)=>{const n=T[s.command.toLowerCase()].map(i=>{const a=s[i];return this.options.accuracy?Math.round(a*t)/t:a});return e+s.command+n.join(",")},"")+(this.close?"Z":"")}scale(t,e){return R(this.pathElements,(s,n)=>{s[n]*=n[0]==="x"?t:e}),this}translate(t,e){return R(this.pathElements,(s,n)=>{s[n]+=n[0]==="x"?t:e}),this}transform(t){return R(this.pathElements,(e,s,n,i,a)=>{const l=t(e,s,n,i,a);(l||l===0)&&(e[s]=l)}),this}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const e=new _(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(s=>({...s})),e.options={...this.options},e}splitByCommand(t){const e=[new _];return this.pathElements.forEach(s=>{s.command===t.toUpperCase()&&e[e.length-1].pathElements.length!==0&&e.push(new _),e[e.length-1].pathElements.push(s)}),e}constructor(t=!1,e){this.close=t,this.pathElements=[],this.pos=0,this.options={...Bt,...e}}}function X(r){const t={fillHoles:!1,...r};return function(s,n){const i=new _;let a=!0;for(let l=0;l<s.length;l+=2){const o=s[l],c=s[l+1],f=n[l/2];B(f.value)!==void 0?(a?i.move(o,c,!1,f):i.line(o,c,!1,f),a=!1):t.fillHoles||(a=!0)}return i}}function Vt(r){const t={fillHoles:!1,...r};return function e(s,n){const i=Mt(s,n,{fillHoles:t.fillHoles,increasingX:!0});if(i.length){if(i.length>1)return _.join(i.map(a=>e(a.pathCoordinates,a.valueData)));{if(s=i[0].pathCoordinates,n=i[0].valueData,s.length<=4)return X()(s,n);const a=[],l=[],o=s.length/2,c=[],f=[],d=[],h=[];for(let u=0;u<o;u++)a[u]=s[u*2],l[u]=s[u*2+1];for(let u=0;u<o-1;u++)d[u]=l[u+1]-l[u],h[u]=a[u+1]-a[u],f[u]=d[u]/h[u];c[0]=f[0],c[o-1]=f[o-2];for(let u=1;u<o-1;u++)f[u]===0||f[u-1]===0||f[u-1]>0!=f[u]>0?c[u]=0:(c[u]=3*(h[u-1]+h[u])/((2*h[u]+h[u-1])/f[u-1]+(h[u]+2*h[u-1])/f[u]),isFinite(c[u])||(c[u]=0));const m=new _().move(a[0],l[0],!1,n[0]);for(let u=0;u<o-1;u++)m.curve(a[u]+h[u]/3,l[u]+c[u]*h[u]/3,a[u+1]-h[u]/3,l[u+1]-c[u+1]*h[u]/3,a[u+1],l[u+1],!1,n[u+1]);return m}}else return X()([],[])}}class Tt{on(t,e){const{allListeners:s,listeners:n}=this;t==="*"?s.add(e):(n.has(t)||n.set(t,new Set),n.get(t).add(e))}off(t,e){const{allListeners:s,listeners:n}=this;if(t==="*")e?s.delete(e):s.clear();else if(n.has(t)){const i=n.get(t);e?i.delete(e):i.clear(),i.size||n.delete(t)}}emit(t,e){const{allListeners:s,listeners:n}=this;n.has(t)&&n.get(t).forEach(i=>i(e)),s.forEach(i=>i(t,e))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const F=new WeakMap;class Rt{update(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=S({},s?this.options:this.defaultOptions,e),!this.initializeTimeoutId)){var n;(n=this.optionsProvider)===null||n===void 0||n.removeMediaQueryListeners(),this.optionsProvider=K(this.options,this.responsiveOptions,this.eventEmitter)}return!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){if(this.initializeTimeoutId)window.clearTimeout(this.initializeTimeoutId);else{var t;window.removeEventListener("resize",this.resizeListener),(t=this.optionsProvider)===null||t===void 0||t.removeMediaQueryListeners()}return F.delete(this.container),this}on(t,e){return this.eventEmitter.on(t,e),this}off(t,e){return this.eventEmitter.off(t,e),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=K(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",()=>this.update()),this.options.plugins&&this.options.plugins.forEach(t=>{Array.isArray(t)?t[0](this,t[1]):t(this)}),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(t,e,s,n,i){this.data=e,this.defaultOptions=s,this.options=n,this.responsiveOptions=i,this.eventEmitter=new Tt,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout(()=>this.initialize(),0);const a=typeof t=="string"?document.querySelector(t):t;if(!a)throw new Error("Target element is not found");this.container=a;const l=F.get(a);l&&l.detach(),F.set(a,this)}}const C={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class tt{createGridAndLabels(t,e,s,n){const i=this.units.pos==="x"?s.axisX:s.axisY,a=this.ticks.map((o,c)=>this.projectValue(o,c)),l=this.ticks.map(i.labelInterpolationFnc);a.forEach((o,c)=>{const f=l[c],d={x:0,y:0};let h;a[c+1]?h=a[c+1]-o:h=Math.max(this.axisLength-o,this.axisLength/this.ticks.length),!(f!==""&&bt(f))&&(this.units.pos==="x"?(o=this.chartRect.x1+o,d.x=s.axisX.labelOffset.x,s.axisX.position==="start"?d.y=this.chartRect.padding.top+s.axisX.labelOffset.y+5:d.y=this.chartRect.y1+s.axisX.labelOffset.y+5):(o=this.chartRect.y1-o,d.y=s.axisY.labelOffset.y-h,s.axisY.position==="start"?d.x=this.chartRect.padding.left+s.axisY.labelOffset.x:d.x=this.chartRect.x2+s.axisY.labelOffset.x+10),i.showGrid&&$t(o,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[s.classNames.grid,s.classNames[this.units.dir]],n),i.showLabel&&It(o,h,c,f,this,i.offset,d,e,[s.classNames.label,s.classNames[this.units.dir],i.position==="start"?s.classNames[i.position]:s.classNames.end],n))})}constructor(t,e,s){this.units=t,this.chartRect=e,this.ticks=s,this.counterUnits=t===C.x?C.y:C.x,this.axisLength=e[this.units.rectEnd]-e[this.units.rectStart],this.gridOffset=e[this.units.rectOffset]}}class Xt extends tt{projectValue(t){const e=Number(B(t,this.units.pos));return this.axisLength*(e-this.bounds.min)/this.bounds.range}constructor(t,e,s,n){const i=n.highLow||Ot(e,n,t.pos),a=vt(s[t.rectEnd]-s[t.rectStart],i,n.scaleMinSpace||20,n.onlyInteger),l={min:a.min,max:a.max};super(t,s,a.values),this.bounds=a,this.range=l}}class Ft extends tt{projectValue(t,e){return this.stepLength*e}constructor(t,e,s,n){const i=n.ticks||[];super(t,s,i);const a=Math.max(1,i.length-(n.stretch?1:0));this.stepLength=this.axisLength/a,this.stretch=Boolean(n.stretch)}}function M(r,t,e){var s;if(v(r,"name")&&r.name&&((s=t.series)===null||s===void 0?void 0:s[r.name])){const i=(t==null?void 0:t.series[r.name])[e];return i===void 0?t[e]:i}else return t[e]}const et={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:U,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:U,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class Yt extends Rt{createChart(t){const{data:e}=this,s=Et(e,t.reverseData,!0),n=Lt(this.container,t.width,t.height,t.classNames.chart);this.svg=n;const i=n.elem("g").addClass(t.classNames.gridGroup),a=n.elem("g"),l=n.elem("g").addClass(t.classNames.labelGroup),o=zt(n,t);let c,f;t.axisX.type===void 0?c=new Ft(C.x,s.series,o,{...t.axisX,ticks:s.labels,stretch:t.fullWidth}):c=new t.axisX.type(C.x,s.series,o,t.axisX),t.axisY.type===void 0?f=new Xt(C.y,s.series,o,{...t.axisY,high:j(t.high)?t.high:t.axisY.high,low:j(t.low)?t.low:t.axisY.low}):f=new t.axisY.type(C.y,s.series,o,t.axisY),c.createGridAndLabels(i,l,t,this.eventEmitter),f.createGridAndLabels(i,l,t,this.eventEmitter),t.showGridBackground&&Pt(i,o,t.classNames.gridBackground,this.eventEmitter),_t(e.series,(d,h)=>{const m=a.elem("g"),u=v(d,"name")&&d.name,Me=v(d,"className")&&d.className,N=v(d,"meta")?d.meta:void 0;u&&m.attr({"ct:series-name":u}),N&&m.attr({"ct:meta":Z(N)}),m.addClass([t.classNames.series,Me||"".concat(t.classNames.series,"-").concat(dt(h))].join(" "));const st=[],nt=[];s.series[h].forEach((b,g)=>{const p={x:o.x1+c.projectValue(b,g,s.series[h]),y:o.y1-f.projectValue(b,g,s.series[h])};st.push(p.x,p.y),nt.push({value:b,valueIndex:g,meta:yt(d,g)})});const O={lineSmooth:M(d,t,"lineSmooth"),showPoint:M(d,t,"showPoint"),showLine:M(d,t,"showLine"),showArea:M(d,t,"showArea"),areaBase:M(d,t,"areaBase")};let Y;typeof O.lineSmooth=="function"?Y=O.lineSmooth:Y=O.lineSmooth?Vt():X();const z=Y(st,nt);if(O.showPoint&&z.pathElements.forEach(b=>{const{data:g}=b,p=m.elem("line",{x1:b.x,y1:b.y,x2:b.x+.01,y2:b.y},t.classNames.point);if(g){let y,$;v(g.value,"x")&&(y=g.value.x),v(g.value,"y")&&($=g.value.y),p.attr({"ct:value":[y,$].filter(j).join(","),"ct:meta":Z(g.meta)})}this.eventEmitter.emit("draw",{type:"point",value:g==null?void 0:g.value,index:(g==null?void 0:g.valueIndex)||0,meta:g==null?void 0:g.meta,series:d,seriesIndex:h,axisX:c,axisY:f,group:m,element:p,x:b.x,y:b.y,chartRect:o})}),O.showLine){const b=m.elem("path",{d:z.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:s.series[h],path:z.clone(),chartRect:o,index:h,series:d,seriesIndex:h,meta:N,axisX:c,axisY:f,group:m,element:b})}if(O.showArea&&f.range){const b=Math.max(Math.min(O.areaBase,f.range.max),f.range.min),g=o.y1-f.projectValue(b);z.splitByCommand("M").filter(p=>p.pathElements.length>1).map(p=>{const y=p.pathElements[0],$=p.pathElements[p.pathElements.length-1];return p.clone(!0).position(0).remove(1).move(y.x,g).line(y.x,y.y).position(p.pathElements.length+1).line($.x,g)}).forEach(p=>{const y=m.elem("path",{d:p.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:s.series[h],path:p.clone(),series:d,seriesIndex:h,axisX:c,axisY:f,chartRect:o,index:h,group:m,element:y,meta:N})})}},t.reverseData),this.eventEmitter.emit("created",{chartRect:o,axisX:c,axisY:f,svg:n,options:t})}constructor(t,e,s,n){super(t,e,et,S({},et,s),n),this.data=e}}const je="",qt={props:{stats:{type:Object,required:!0},interval:{type:String,required:!0},name:String},chart:void 0,computed:{data(){const r={views:[],visits:[],labels:[],totalViews:0,totalVisits:0};for(const{label:t,paths:e,missing:s}of Object.values(this.stats)){if(r.labels.push(t),s){r.views.push(0),r.visits.push(0);continue}const[n,i]=Object.values(e).reduce(([a,l],{counters:o})=>[a+o.views,l+o.visits],[0,0]);r.views.push(n),r.visits.push(i),r.totalViews+=n,r.totalVisits+=i}return r}},mounted(){this.chart=new Yt(this.$refs.chart,{series:[this.data.visits],labels:this.data.labels},{low:0,fullWidth:!0,lineSmooth:!1,showArea:!0,showLine:!0,chartPadding:{top:0,left:0,right:0,bottom:0},axisX:{showGrid:!1,labelInterpolationFnc:this.showMaxLabels(8)},axisY:{labelInterpolationFnc:(r,t)=>t===0?"":r,onlyInteger:!0}},[["screen and (max-width: 800px)",{axisX:{labelInterpolationFnc:this.showMaxLabels(4)}}]])},watch:{data(){this.chart.update({series:[this.data.views],labels:this.data.labels})}},methods:{showMaxLabels(r){return(t,e)=>{const{length:s}=this.data.labels;if(s<=r)return t;const n=Math.round(s/r);return e%n===0?t:null}}}},Le="";var Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"k-stat k-stats-chart"},[e("div",{ref:"chart",staticClass:"k-stats-chart-chartist-container"})])},Ut=[],Ht=x(qt,Gt,Ut,!1,null,null,null,null);const Qt=Ht.exports,Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"})),Zt={props:{stats:{type:Object,required:!0}},computed:{data(){var e;let r=0;const t={};for(const{paths:s,missing:n}of Object.values(this.stats))if(!n)for(const{counters:i}of Object.values(s))for(const a of it)(e=t[a])!=null||(t[a]={name:a,visits:0,percent:0}),t[a].visits+=i[a],r+=i[a];return Object.values(t).map(s=>({...s,percent:s.visits/r*100})).sort((s,n)=>n.percent-s.percent)}}};var Dt=function(){var t=this,e=t._self._c;return e("k-table",{staticClass:"k-stats-os",attrs:{index:!1,columns:{name:{label:"Operating System",type:"stats-percent",mobile:!0},visits:{label:"Visits",width:"8em",mobile:!0}},rows:t.data}})},Jt=[],Kt=x(Zt,Dt,Jt,!1,null,null,null,null);const te=Kt.exports,ee=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),se=r=>(r.startsWith("/")?r.slice(1):r).replace("/","+"),ne={props:{stats:{type:Object,required:!0},urls:{type:Object,required:!0}},computed:{data(){var e;let r=0;const t={};for(const{paths:s,missing:n}of Object.values(this.stats))if(!n)for(const[i,{counters:a,title:l}]of Object.entries(s)){const o=l||i,c=se(i),f=this.urls.page.replace("{{slug}}",c);(e=t[i])!=null||(t[i]={name:o,visits:0,percent:0,url:f}),t[i].visits+=a.visits,r+=a.visits}return Object.values(t).map(s=>({...s,percent:s.visits/r*100})).sort((s,n)=>n.percent-s.percent)}}};var re=function(){var t=this,e=t._self._c;return e("k-table",{attrs:{index:!1,columns:{name:{label:"Page",type:"stats-page",mobile:!0},visits:{label:"Visits",width:"8em",mobile:!0}},rows:t.data}})},ie=[],ae=x(ne,re,ie,!1,null,null,null,null);const le=ae.exports,oe=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),ue={props:{value:{type:String,required:!0},row:{type:Object,required:!0}}},Ne="";var ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"k-table-stats-percent-cell"},[e("div",{staticClass:"k-table-stats-percent-cell-bar-wrapper"},[e("div",{staticClass:"k-table-stats-percent-cell-bar",style:`width: ${t.row.percent}%`})]),e("a",{attrs:{href:t.row.url}},[e("div",{staticClass:"k-table-stats-percent-cell-text k-text-field-preview"},[t._v(" "+t._s(t.value)+" ")])])])},he=[],fe=x(ue,ce,he,!1,null,null,null,null);const de=fe.exports,me=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"})),ge={props:{value:{type:String,required:!0},row:{type:Object,required:!0}}},ze="";var pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"k-table-stats-percent-cell"},[e("div",{staticClass:"k-table-stats-percent-cell-bar-wrapper"},[e("div",{staticClass:"k-table-stats-percent-cell-bar",style:`width: ${t.row.percent}%`})]),e("div",{staticClass:"k-table-stats-percent-cell-text k-text-field-preview"},[t._v(" "+t._s(t.value)+" ")])])},ve=[],be=x(ge,pe,ve,!1,null,null,null,null);const we=be.exports,_e=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),ye={props:{stats:{type:Object,required:!0},urls:{type:Object,required:!0},labels:{type:Object,required:!0},page:String},methods:{toggleIntervalSelect(){var r;(r=this.$refs.intervalSelect)==null||r.toggle()}}},$e="";var xe=function(){var t=this,e=t._self._c;return e("k-inside",[e("k-view",{staticClass:"k-stats-main-view"},[e("k-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("k-button-group",[e("k-button",{attrs:{icon:"cog"}},[t._v("Settings")])],1)]},proxy:!0},{key:"right",fn:function(){return[e("k-button-group",[e("k-button-link",{attrs:{link:t.urls.last,icon:"angle-left",disabled:!t.urls.last}}),e("k-dropdown",[e("k-button",{attrs:{icon:"calendar"},on:{click:t.toggleIntervalSelect}},[t._v(" "+t._s(t.labels.date)+" ")]),e("k-dropdown-content",{ref:"intervalSelect"},[e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.today}},[t._v(" Today ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls["7-days"]}},[t._v(" Last 7 days ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls["30-days"]}},[t._v(" Last 30 days ")]),e("hr"),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.day}},[t._v(" Day ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.week}},[t._v(" Week ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.month}},[t._v(" Month ")]),e("k-button-link",{staticClass:"k-dropdown-item",attrs:{link:t.urls.year}},[t._v(" Year ")])],1)],1),e("k-button-link",{attrs:{icon:"angle-right",link:t.urls.next,disabled:!t.urls.next}})],1)]},proxy:!0}])},[t._v(" Stats "+t._s(t.page?` for ${t.labels.page}`:"")+" ")]),e("section",{staticClass:"k-section"},[e("header",{staticClass:"k-section-header"},[e("k-button",[e("k-headline",[t._v("Visits / Views")])],1)],1),e("k-stats-chart",{attrs:{stats:t.stats}})],1),e("k-grid",{attrs:{gutter:"medium"}},[e("k-column",{attrs:{width:"1/2"}},[e("section",{staticClass:"k-section",staticStyle:{"padding-bottom":"1.5rem"}},[e("header",{staticClass:"k-section-header"},[e("k-headline",[t._v("Devices")])],1),e("k-stats-browsers",{attrs:{stats:t.stats}})],1),e("section",{staticClass:"k-section"},[e("k-stats-os",{attrs:{stats:t.stats}})],1)]),e("k-column",{attrs:{width:"1/2"}},[e("section",{staticClass:"k-section"},[e("header",{staticClass:"k-section-header"},[e("k-headline",[t._v("Pages")])],1),e("k-stats-pages",{attrs:{stats:t.stats,urls:t.urls}})],1)])],1)],1)],1)},Ce=[],Oe=x(ye,xe,Ce,!1,null,null,null,null);const Ee=Oe.exports,Ae=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"})),ke=r=>r.substring(r.lastIndexOf("/")+1,r.lastIndexOf(".")).toLowerCase(),Se=Object.freeze({import(r){return Object.entries(r).reduce((t,[e,s])=>(t[ke(e)]=s.default,t),{})}});window.panel.plugin("arnoson/kirby-stats",{components:Se.import(Object.assign({"./components/k-stats-browsers.vue":ht,"./components/k-stats-chart.vue":Wt,"./components/k-stats-os.vue":ee,"./components/k-stats-pages.vue":oe,"./components/k-table-stats-page-cell.vue":me,"./components/k-table-stats-percent-cell.vue":_e,"./views/k-stats-main-view.vue":Ae})),use:{plugin(r){}}})})();
